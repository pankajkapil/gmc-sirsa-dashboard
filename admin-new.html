<!DOCTYPE html><html><head> <meta charset="UTF-8"><br> <meta name="viewport" content="width=device-width, initial-scale=1.0"><br> <title>GMC Sirsa - Admin</title><br> <style><br> * { margin: 0; padding: 0; box-sizing: border-box; }<br> body { font-family: Arial, sans-serif; background: #f5f5f5; color: #333; }<br> .admin-panel { max-width: 1200px; margin: 20px auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }<br> h1 { color: #2c3e50; margin-bottom: 20px; }<br> h2 { color: #34495e; margin-top: 20px; margin-bottom: 15px; border-bottom: 2px solid #3498db; padding-bottom: 10px; }<br> .form-group { margin-bottom: 15px; }<br> label { display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50; }<br> input, select, textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; }<br> textarea { resize: vertical; min-height: 100px; }<br> button { background: #3498db; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; margin-right: 10px; }<br> button:hover { background: #2980b9; }<br> .status-msg { margin-top: 10px; padding: 10px; border-radius: 4px; }<br> .status-success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }<br> .status-error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }<br> .section { margin-bottom: 30px; border-bottom: 2px solid #eee; padding-bottom: 20px; }<br> .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }<br> .three-col { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }<br> .photo-preview { max-width: 150px; max-height: 150px; margin-top: 10px; border-radius: 4px; }<br> @media(max-width: 768px) { .two-col { grid-template-columns: 1fr; } .three-col { grid-template-columns: 1fr; } }<br> </style></head><body> <div class="admin-panel"><br> <h1>GMC Sirsa Dashboard - Admin Panel</h1><br> <br> <div class="section"><br> <h2>Progress Tracking</h2><br> <div class="two-col"><br> <div class="form-group"><br> <label>Physical Progress (%)</label><br> <input type="number" id="physicalProgress" min="0" max="100" placeholder="0-100"><br> </div><br> <div class="form-group"><br> <label>Financial Progress (%)</label><br> <input type="number" id="financialProgress" min="0" max="100" placeholder="0-100"><br> </div><br> </div><br> </div><br> <div class="section"><br> <h2>Financial Details</h2><br> <div class="two-col"><br> <div class="form-group"><br> <label>Total Project Cost (‚Çπ)</label><br> <input type="number" id="totalProjectCost" placeholder="Amount"><br> </div><br> <div class="form-group"><br> <label>Total Funds Released (‚Çπ)</label><br> <input type="number" id="totalFundsReleased" placeholder="Amount"><br> </div><br> </div><br> <div class="two-col"><br> <div class="form-group"><br> <label>Financial Progress (‚Çπ)</label><br> <input type="number" id="financialProgressAmount" placeholder="Amount"><br> </div><br> <div class="form-group"><br> <label>Funding Gap (‚Çπ)</label><br> <input type="number" id="fundingGap" placeholder="Amount"><br> </div><br> </div><br> </div><br> <div class="section"><br> <h2>Status Indicators</h2><br> <div class="two-col"><br> <div class="form-group"><br> <label>Quality Status</label><br> <select id="qualityStatus"><br> <option value="GREEN">Green (On Track)</option><br> <option value="YELLOW">Yellow (At Risk)</option><br> <option value="RED">Red (Critical)</option><br> </select><br> </div><br> <div class="form-group"><br> <label>Timeline Status</label><br> <select id="timelineStatus"><br> <option value="GREEN">Green (On Track)</option><br> <option value="YELLOW">Yellow (At Risk)</option><br> <option value="RED">Red (Critical)</option><br> </select><br> </div><br> </div><br> <div class="two-col"><br> <div class="form-group"><br> <label>Cost Status</label><br> <select id="costStatus"><br> <option value="GREEN">Green (On Track)</option><br> <option value="YELLOW">Yellow (At Risk)</option><br> <option value="RED">Red (Critical)</option><br> </select><br> </div><br> <div class="form-group"><br> <label>Safety Status</label><br> <select id="safetyStatus"><br> <option value="GREEN">Green (Safe)</option><br> <option value="YELLOW">Yellow (Caution)</option><br> <option value="RED">Red (Unsafe)</option><br> </select><br> </div><br> </div><br> </div><br> <div class="section"><br> <h2>üìÑ Building-wise Progress</h2><br> <div class="three-col" id="buildings-container"></div><br> </div><br> <div class="section"><br> <h2>üì∑ Photo Gallery</h2><br> <div class="form-group"><br> <label>Upload Photo</label><br> <input type="file" id="photoInput" accept="image/*" multiple><br> </div><br> <div id="photosContainer" class="three-col"></div><br> </div><br> <div><br> <button onclick="saveData()">üíæ Save Changes</button><br> <button onclick="location.href='index.html'">üìä View Dashboard</button><br> </div><br> <br> <div id="status-message" class="status-msg" style="display: none;"></div><br> </div><br> <script type="module"><br> import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js';<br> import { getDatabase, ref, set, onValue } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js';<br> const firebaseConfig = {<br> apiKey: "AIzaSyC9eAcBdH0pu4NLVwLT-g_0Gn7Ly2Y5Zxw",<br> authDomain: "rudransh-kapil.firebaseapp.com",<br> projectId: "rudransh-kapil",<br> storageBucket: "rudransh-kapil.appspot.com",<br> messagingSenderId: "602527729848",<br> databaseURL: "https://rudransh-kapil-default-rtdb.firebaseio.com"<br> };<br> const app = initializeApp(firebaseConfig);<br> const db = getDatabase(app);<br> const buildings = [<br> 'External Development/Road',<br> 'Junior & Senior Resident (S+12)',<br> 'Boys Hostel (G+8)',<br> 'Nursing Girls Hostel (G+8)',<br> 'Girls Hostel (G+6)',<br> 'Hospital Block (B+G+7)',<br> 'Service Block',<br> 'Vishram Sarai (G+2)',<br> 'Medical College (B+G+5)',<br> 'Director & MS Residence (G+1)',<br> 'Paramedical Block (B+G+6)',<br> 'Common Basement'<br> ];<br> const SYNC_KEY = 'gmc_sirsa_sync_data';<br> function renderBuildings() {<br> const container = document.getElementById('buildings-container');<br> container.innerHTML = buildings.map(b => {<br> const safeId = 'building_' + b.replace(/[^a-zA-Z0-9]/g, '_');<br> return `<div class="form-group"><label>${b}</label><input type="number" id="${safeId}" min="0" max="100" placeholder="0-100"></div>`;<br> }).join('');<br> }<br> function saveData() {<br> const data = {<br> physicalProgress: parseInt(document.getElementById('physicalProgress').value) || 0,<br> financialProgress: parseInt(document.getElementById('financialProgress').value) || 0,<br> totalProjectCost: parseInt(document.getElementById('totalProjectCost').value) || 0,<br> totalFundsReleased: parseInt(document.getElementById('totalFundsReleased').value) || 0,<br> financialProgressAmount: parseInt(document.getElementById('financialProgressAmount').value) || 0,<br> fundingGap: parseInt(document.getElementById('fundingGap').value) || 0,<br> qualityStatus: document.getElementById('qualityStatus').value,<br> timelineStatus: document.getElementById('timelineStatus').value,<br> costStatus: document.getElementById('costStatus').value,<br> safetyStatus: document.getElementById('safetyStatus').value,<br> lastUpdated: new Date().toLocaleString('en-IN')<br> };<br> buildings.forEach(building => {<br> const safeId = 'building_' + building.replace(/[^a-zA-Z0-9]/g, '_');<br> data['building_' + building] = parseInt(document.getElementById(safeId).value) || 0;<br> });<br> localStorage.setItem(SYNC_KEY, JSON.stringify(data));<br> const syncRef = ref(db, 'dashboard/current');<br> set(syncRef, data).then(() => {<br> showMessage('‚úÖ Data synced successfully!');<br> }).catch(error => {<br> showMessage('‚ùå Error: ' + error.message);<br> });<br> }<br> function loadData() {<br> const stored = localStorage.getItem(SYNC_KEY);<br> if (!stored) return;<br> const data = JSON.parse(stored);<br> <br> document.getElementById('physicalProgress').value = data.physicalProgress || '';<br> document.getElementById('financialProgress').value = data.financialProgress || '';<br> document.getElementById('totalProjectCost').value = data.totalProjectCost || '';<br> document.getElementById('totalFundsReleased').value = data.totalFundsReleased || '';<br> document.getElementById('financialProgressAmount').value = data.financialProgressAmount || '';<br> document.getElementById('fundingGap').value = data.fundingGap || '';<br> document.getElementById('qualityStatus').value = data.qualityStatus || 'GREEN';<br> document.getElementById('timelineStatus').value = data.timelineStatus || 'GREEN';<br> document.getElementById('costStatus').value = data.costStatus || 'GREEN';<br> document.getElementById('safetyStatus').value = data.safetyStatus || 'GREEN';<br> <br> buildings.forEach(building => {<br> const safeId = 'building_' + building.replace(/[^a-zA-Z0-9]/g, '_');<br> const value = data['building_' + building];<br> if (document.getElementById(safeId)) {<br> document.getElementById(safeId).value = value || '';<br> }<br> });<br> }<br> function showMessage(msg) {<br> const el = document.getElementById('status-message');<br> el.textContent = msg;<br> el.className = 'status-msg status-success';<br> el.style.display = 'block';<br> setTimeout(() => { el.style.display = 'none'; }, 3000);<br> }<br> function listenToFirebase() {<br> const syncRef = ref(db, 'dashboard/current');<br> onValue(syncRef, (snapshot) => {<br> if (snapshot.exists()) {<br> const data = snapshot.val();<br> localStorage.setItem(SYNC_KEY, JSON.stringify(data));<br> loadData();<br> }<br> });<br> }<br> window.addEventListener('load', () => {<br> renderBuildings();<br> loadData();<br> listenToFirebase();<br> });<br> window.saveData = saveData;<br> </script></body></html>

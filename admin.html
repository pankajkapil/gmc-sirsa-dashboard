<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>GMC Sirsa - Admin</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: Arial; background: #f0f0f0; }
.admin-panel { max-width: 1200px; margin: 20px auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 0 20px rgba(0,0,0,0.1); }
h1, h2 { color: #333; margin-bottom: 20px; }
.logout-btn { float: right; padding: 10px 20px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer; }
.form-group { margin-bottom: 20px; }
.form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
.form-group input, .form-group select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; }
.save-btn { padding: 12px 30px; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; width: 100%; }
.save-btn:hover { background: #218838; }
.building-section { background: #f9f9f9; padding: 20px; margin-bottom: 20px; border-left: 4px solid #007bff; }
.status-message { padding: 10px; margin-bottom: 10px; border-radius: 4px; display: none; }
.status-message.success { background: #d4edda; color: #155724; }
.monthly-photos-section { background: #f9f9f9; padding: 20px; margin-top: 20px; border-radius: 4px; }
#login-page { display: block; }
#admin-page { display: none; }
.photo-preview { display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 10px; margin-top: 10px; }
.photo-thumb { width: 80px; height: 80px; border-radius: 4px; object-fit: cover; border: 1px solid #ddd; }
</style>
</head>
<body>
<div class="admin-panel">
<div id="login-page">
<h1>Admin Login</h1>
<div class="form-group">
<label>Password:</label>
<input type="password" id="password" placeholder="Enter password">
</div>
<button class="save-btn" onclick="login()">Login</button>
</div>

<div id="admin-page" style="display: none;">
<h1>Admin Dashboard</h1>
<button class="logout-btn" onclick="logout()">Logout</button>
<div id="status-message" class="status-message"></div>

<h2>Project Summary</h2>
<div class="form-group">
<label>Total Project Cost:</label>
<input type="text" id="totalProjectCost">
</div>

<h2>Monthly Photos</h2>
<div class="monthly-photos-section">
<div class="form-group">
<label>Select Month:</label>
<select id="photoMonth">
<option>November</option><option>December</option><option>January</option><option>February</option>
<option>March</option><option>April</option><option>May</option><option>June</option>
<option>July</option><option>August</option><option>September</option><option>October</option>
</select>
</div>
<div class="form-group">
<label>Upload Multiple Photos:</label>
<input type="file" id="photoUpload" accept="image/*" multiple>
</div>
<div id="photo-preview" class="photo-preview"></div>
<button class="save-btn" onclick="uploadMonthlyPhotos()" style="margin-top: 10px;">Upload All Photos</button>
</div>

<button class="save-btn" onclick="handleSave()">Save Changes</button>
</div>
</div>

<script>
const ADMIN_PASSWORD = 'admin';
function login() {
if (document.getElementById('password').value === ADMIN_PASSWORD) {
localStorage.setItem('adminLoggedIn', 'true');
document.getElementById('login-page').style.display = 'none';
document.getElementById('admin-page').style.display = 'block';
} else {
alert('Invalid password!');
}
}
function logout() {
localStorage.removeItem('adminLoggedIn');
document.getElementById('login-page').style.display = 'block';
document.getElementById('admin-page').style.display = 'none';
}
function handleSave() {
alert('Data saved!');
}
function uploadMonthlyPhotos() {
const month = document.getElementById('photoMonth').value;
const files = document.getElementById('photoUpload').files;
if (!files.length) { alert('Select photos'); return; }
let saved = JSON.parse(localStorage.getItem('monthlyPhotos')) || {};
if (!saved[month]) saved[month] = [];
let count = 0;
for (let file of files) {
const reader = new FileReader();
reader.onload = (e) => {
saved[month].push(e.target.result);
count++;
if (count === files.length) {
localStorage.setItem('monthlyPhotos', JSON.stringify(saved));
alert(files.length + ' photos uploaded!');
document.getElementById('photoUpload').value = '';
show();
}
};
reader.readAsDataURL(file);
}
}
function show() {
const month = document.getElementById('photoMonth').value;
const preview = document.getElementById('photo-preview');
const saved = JSON.parse(localStorage.getItem('monthlyPhotos')) || {};
preview.innerHTML = '';
if (saved[month]) {
saved[month].forEach((url) => {
const img = document.createElement('img');
img.src = url;
img.className = 'photo-thumb';
preview.appendChild(img);
});
}
}
document.getElementById('photoMonth').addEventListener('change', show);
document.getElementById('photoUpload').addEventListener('change', function() {
const preview = document.getElementById('photo-preview');
preview.innerHTML = '';
for (let file of this.files) {
const r = new FileReader();
r.onload = (e) => {
const img = document.createElement('img');
img.src = e.target.result;
img.className = 'photo-thumb';
preview.appendChild(img);
};
r.readAsDataURL(file);
}
});
window.addEventListener('load', () => {
if (localStorage.getItem('adminLoggedIn') === 'true') {
document.getElementById('login-page').style.display = 'none';
document.getElementById('admin-page').style.display = 'block';
show();
}
});
</script>
</body>
</html>
